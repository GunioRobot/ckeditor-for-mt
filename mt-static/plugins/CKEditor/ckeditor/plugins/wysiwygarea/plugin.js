(function(){var a={table:1,pre:1},b=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,c=CKEDITOR.dom.walker.whitespaces(true);function d(r){return r.getName() in a||r.isBlockBoundary()&&CKEDITOR.dtd.$empty[r.getName()];};function e(r){return function(s){if(this.mode=='wysiwyg'){this.focus();this.fire('saveSnapshot');r.call(this,s.data);CKEDITOR.tools.setTimeout(function(){this.fire('saveSnapshot');},0,this);}};};function f(r){var x=this;if(x.dataProcessor)r=x.dataProcessor.toHtml(r);var s=x.getSelection(),t=s.getRanges()[0];if(t.checkReadOnly())return;if(CKEDITOR.env.ie){var u=s.isLocked;if(u)s.unlock();var v=s.getNative();if(v.type=='Control')v.clear();else if(s.getType()==CKEDITOR.SELECTION_TEXT){t=s.getRanges()[0];var w=t&&t.endContainer;if(w&&w.type==CKEDITOR.NODE_ELEMENT&&w.getAttribute('contenteditable')=='false'&&t.checkBoundaryOfElement(w,CKEDITOR.END)){t.setEndAfter(t.endContainer);t.deleteContents();}}try{v.createRange().pasteHTML(r);}catch(y){}if(u)x.getSelection().lock();}else x.document.$.execCommand('inserthtml',false,r);if(CKEDITOR.env.webkit){s=x.getSelection();s.scrollIntoView();}};function g(r){var s=this.getSelection(),t=s.getStartElement().hasAscendant('pre',true)?CKEDITOR.ENTER_BR:this.config.enterMode,u=t==CKEDITOR.ENTER_BR,v=CKEDITOR.tools.htmlEncode(r.replace(/\r\n|\r/g,'\n'));v=v.replace(/^[ \t]+|[ \t]+$/g,function(B,C,D){if(B.length==1)return '&nbsp;';else if(!C)return CKEDITOR.tools.repeat('&nbsp;',B.length-1)+' ';else return ' '+CKEDITOR.tools.repeat('&nbsp;',B.length-1);});v=v.replace(/[ \t]{2,}/g,function(B){return CKEDITOR.tools.repeat('&nbsp;',B.length-1)+' ';});var w=t==CKEDITOR.ENTER_P?'p':'div';if(!u)v=v.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(B,C,D){return '<'+w+'>'+D+'</'+w+'>';});v=v.replace(/\n/g,'<br>');if(!(u||CKEDITOR.env.ie))v=v.replace(new RegExp('<br>(?=</'+w+'>)'),function(B){return CKEDITOR.tools.repeat(B,2);});if(CKEDITOR.env.gecko||CKEDITOR.env.webkit){var x=new CKEDITOR.dom.elementPath(s.getStartElement()),y=[];for(var z=0;z<x.elements.length;z++){var A=x.elements[z].getName();if(A in CKEDITOR.dtd.$inline)y.unshift(x.elements[z].getOuterHtml().match(/^<.*?>/));else if(A in CKEDITOR.dtd.$block)break;}v=y.join('')+v;}f.call(this,v);};function h(r){var s=this.getSelection(),t=s.getRanges(),u=r.getName(),v=CKEDITOR.dtd.$block[u],w=s.isLocked;if(w)s.unlock();var x,y,z,A;for(var B=t.length-1;B>=0;B--){x=t[B];if(!x.checkReadOnly()){x.deleteContents(1);
y=!B&&r||r.clone(1);var C,D;if(v)while((C=x.getCommonAncestor(0,1))&&(D=CKEDITOR.dtd[C.getName()])&&!(D&&D[u])){if(C.getName() in CKEDITOR.dtd.span)x.splitElement(C);else if(x.checkStartOfBlock()&&x.checkEndOfBlock()){x.setStartBefore(C);x.collapse(true);C.remove();}else x.splitBlock();}x.insertNode(y);if(!z)z=y;}}if(z){x.moveToPosition(z,CKEDITOR.POSITION_AFTER_END);if(v){var E=z.getNext(c),F=E&&E.type==CKEDITOR.NODE_ELEMENT&&E.getName();if(F&&CKEDITOR.dtd.$block[F]&&CKEDITOR.dtd[F]['#'])x.moveToElementEditStart(E);}}s.selectRanges([x]);if(w)this.getSelection().lock();};function i(r){if(!r.checkDirty())setTimeout(function(){r.resetDirty();},0);};var j=CKEDITOR.dom.walker.whitespaces(true),k=CKEDITOR.dom.walker.bookmark(false,true);function l(r){return j(r)&&k(r);};function m(r){return r.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(r.getText()).match(/^(?:&nbsp;|\xa0)$/);};function n(r){if(r.isLocked){r.unlock();setTimeout(function(){r.lock();},0);}};function o(r){return r.getOuterHtml().match(b);};j=CKEDITOR.dom.walker.whitespaces(true);function p(r){var s=r.window,t=r.document,u=r.document.getBody(),v=u.getFirst(),w=u.getChildren().count();if(!w||w==1&&v.type==CKEDITOR.NODE_ELEMENT&&v.hasAttribute('_moz_editor_bogus_node')){i(r);var x=r.element.getDocument(),y=x.getDocumentElement(),z=y.$.scrollTop,A=y.$.scrollLeft,B=t.$.createEvent('KeyEvents');B.initKeyEvent('keypress',true,true,s.$,false,false,false,false,0,32);t.$.dispatchEvent(B);if(z!=y.$.scrollTop||A!=y.$.scrollLeft)x.getWindow().$.scrollTo(A,z);w&&u.getFirst().remove();t.getBody().appendBogus();var C=new CKEDITOR.dom.range(t);C.setStartAt(u,CKEDITOR.POSITION_AFTER_START);C.select();}};function q(r){var s=r.editor,t=r.data.path,u=t.blockLimit,v=r.data.selection,w=v.getRanges()[0],x=s.document.getBody(),y=s.config.enterMode;if(CKEDITOR.env.gecko){p(s);var z=t.block||t.blockLimit,A=z&&z.getLast(l);if(z&&!(A&&A.type==CKEDITOR.NODE_ELEMENT&&A.isBlockBoundary())&&!z.is('pre')&&!z.getBogus()){s.fire('updateSnapshot');i(s);z.appendBogus();}}if(y!=CKEDITOR.ENTER_BR&&w.collapsed&&u.getName()=='body'&&!t.block){s.fire('updateSnapshot');i(s);CKEDITOR.env.ie&&n(v);var B=w.fixBlock(true,s.config.enterMode==CKEDITOR.ENTER_DIV?'div':'p');if(CKEDITOR.env.ie){var C=B.getFirst(l);C&&m(C)&&C.remove();}if(o(B)){var D=B.getNext(j);if(D&&D.type==CKEDITOR.NODE_ELEMENT&&!d(D)){w.moveToElementEditStart(D);B.remove();}else{D=B.getPrevious(j);if(D&&D.type==CKEDITOR.NODE_ELEMENT&&!d(D)){w.moveToElementEditEnd(D);B.remove();}}}w.select();
r.cancel();}var E=new CKEDITOR.dom.range(s.document),F=new CKEDITOR.dom.walker(E);E.selectNodeContents(x);F.evaluator=function(H){return H.type==CKEDITOR.NODE_ELEMENT&&H.getName() in a;};F.guard=function(H,I){return!(H.type==CKEDITOR.NODE_TEXT&&j(H)||I);};if(F.previous()){s.fire('updateSnapshot');i(s);CKEDITOR.env.ie&&n(v);var G;if(y!=CKEDITOR.ENTER_BR)G=x.append(new CKEDITOR.dom.element(y==CKEDITOR.ENTER_P?'p':'div'));else G=x;if(!CKEDITOR.env.ie)G.appendBogus();}};CKEDITOR.plugins.add('wysiwygarea',{requires:['editingblock'],init:function(r){var s=r.config.enterMode!=CKEDITOR.ENTER_BR?r.config.enterMode==CKEDITOR.ENTER_DIV?'div':'p':false,t=r.lang.editorTitle.replace('%1',r.name),u;r.on('editingBlockReady',function(){var A,B,C,D,E,F,G=CKEDITOR.env.isCustomDomain(),H=function(K){if(B)B.remove();var L='document.open();'+(G?'document.domain="'+document.domain+'";':'')+'document.close();';L=CKEDITOR.env.air?'javascript:void(0)':CKEDITOR.env.ie?'javascript:void(function(){'+encodeURIComponent(L)+'}())':'';B=CKEDITOR.dom.element.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+t+'"'+' src="'+L+'"'+' tabIndex="'+(CKEDITOR.env.webkit?-1:r.tabIndex)+'"'+' allowTransparency="true"'+'></iframe>');if(document.location.protocol=='chrome:')CKEDITOR.event.useCapture=true;B.on('load',function(P){E=1;P.removeListener();var Q=B.getFrameDocument();Q.write(K);CKEDITOR.env.air&&J(Q.getWindow().$);});if(document.location.protocol=='chrome:')CKEDITOR.event.useCapture=false;var M=r.element,N=CKEDITOR.env.gecko&&!M.isVisible(),O={};if(N){M.show();O={position:M.getStyle('position'),top:M.getStyle('top')};M.setStyles({position:'absolute',top:'-3000px'});}A.append(B);if(N)setTimeout(function(){M.hide();M.setStyles(O);},1000);};u=CKEDITOR.tools.addFunction(J);var I='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(G?'document.domain="'+document.domain+'";':'')+'window.parent.CKEDITOR.tools.callFunction( '+u+', window );'+'</script>';function J(K){if(!E)return;E=0;r.fire('ariaWidget',B);var L=K.document,M=L.body,N=L.getElementById('cke_actscrpt');N&&N.parentNode.removeChild(N);M.spellcheck=!r.config.disableNativeSpellChecker;if(CKEDITOR.env.ie){M.hideFocus=true;M.disabled=true;M.contentEditable=true;M.removeAttribute('disabled');}else setTimeout(function(){if(CKEDITOR.env.gecko&&CKEDITOR.env.version>=10900||CKEDITOR.env.opera)L.$.body.contentEditable=true;else if(CKEDITOR.env.webkit)L.$.body.parentNode.contentEditable=true;else L.$.designMode='on';
},0);CKEDITOR.env.gecko&&CKEDITOR.tools.setTimeout(p,0,null,r);K=r.window=new CKEDITOR.dom.window(K);L=r.document=new CKEDITOR.dom.document(L);L.on('dblclick',function(T){var U=T.data.getTarget(),V={element:U,dialog:''};r.fire('doubleclick',V);V.dialog&&r.openDialog(V.dialog);});CKEDITOR.env.ie&&L.on('click',function(T){var U=T.data.getTarget();if(U.is('input')){var V=U.getAttribute('type');if(V=='submit'||V=='reset')T.data.preventDefault();}});if(!(CKEDITOR.env.ie||CKEDITOR.env.opera))L.on('mousedown',function(T){var U=T.data.getTarget();if(U.is('img','hr','input','textarea','select'))r.getSelection().selectElement(U);});if(CKEDITOR.env.gecko)L.on('mouseup',function(T){if(T.data.$.button==2){var U=T.data.getTarget();if(!U.getOuterHtml().replace(b,'')){var V=new CKEDITOR.dom.range(L);V.moveToElementEditStart(U);V.select(true);}}});L.on('click',function(T){T=T.data;if(T.getTarget().is('a')&&T.$.button!=2)T.preventDefault();});if(CKEDITOR.env.webkit){L.on('mousedown',function(){Q=1;});L.on('click',function(T){if(T.data.getTarget().is('input','select'))T.data.preventDefault();});L.on('mouseup',function(T){if(T.data.getTarget().is('input','textarea'))T.data.preventDefault();});}if(CKEDITOR.env.ie&&L.$.compatMode=='CSS1Compat'||CKEDITOR.env.gecko||CKEDITOR.env.opera){var O=L.getDocumentElement();O.on('mousedown',function(T){if(T.data.getTarget().equals(O)){if(CKEDITOR.env.gecko&&CKEDITOR.env.version>=10900)y();z.focus();}});}var P=CKEDITOR.env.ie?B:K;P.on('blur',function(){r.focusManager.blur();});var Q;P.on('focus',function(){var T=r.document;if(CKEDITOR.env.gecko&&CKEDITOR.env.version>=10900)y();else if(CKEDITOR.env.opera)T.getBody().focus();else if(CKEDITOR.env.webkit)if(!Q){r.document.getDocumentElement().focus();Q=1;}r.focusManager.focus();});var R=r.keystrokeHandler;if(R)R.attach(L);if(CKEDITOR.env.ie){L.getDocumentElement().addClass(L.$.compatMode);L.on('keydown',function(T){var U=T.data.getKeystroke();if(U in {8:1,46:1}){var V=r.getSelection(),W=V.getSelectedElement();if(W){r.fire('saveSnapshot');var X=V.getRanges()[0].createBookmark();W.remove();V.selectBookmarks([X]);r.fire('saveSnapshot');T.data.preventDefault();}}});if(L.$.compatMode=='CSS1Compat'){var S={33:1,34:1};L.on('keydown',function(T){if(T.data.getKeystroke() in S)setTimeout(function(){r.getSelection().scrollIntoView();},0);});}r.config.enterMode!=CKEDITOR.ENTER_P&&L.on('selectionchange',function(){var T=L.getBody(),U=r.getSelection().getRanges()[0];if(T.getHtml().match(/^<p>&nbsp;<\/p>$/i)&&U.startContainer.equals(T))setTimeout(function(){U=r.getSelection().getRanges()[0];
if(!U.startContainer.equals('body')){T.getFirst().remove(1);U.moveToElementEditEnd(T);U.select(1);}},0);});}if(r.contextMenu)r.contextMenu.addTarget(L,r.config.browserContextMenuOnCtrl!==false);setTimeout(function(){r.fire('contentDom');if(F){r.mode='wysiwyg';r.fire('mode');F=false;}C=false;if(D){r.focus();D=false;}setTimeout(function(){r.fire('dataReady');},0);try{r.document.$.execCommand('enableInlineTableEditing',false,!r.config.disableNativeTableHandles);}catch(T){}if(r.config.disableObjectResizing)try{r.document.$.execCommand('enableObjectResizing',false,false);}catch(U){r.document.getBody().on(CKEDITOR.env.ie?'resizestart':'resize',function(V){V.data.preventDefault();});}if(CKEDITOR.env.ie)setTimeout(function(){if(r.document){var V=r.document.$.body;V.runtimeStyle.marginBottom='0px';V.runtimeStyle.marginBottom='';}},1000);},0);};r.addMode('wysiwyg',{load:function(K,L,M){A=K;if(CKEDITOR.env.ie&&CKEDITOR.env.quirks)K.setStyle('position','relative');r.mayBeDirty=true;F=true;if(M)this.loadSnapshotData(L);else this.loadData(L);},loadData:function(K){C=true;r._.dataStore={id:1};var L=r.config,M=L.fullPage,N=L.docType,O='<style type="text/css" data-cke-temp="1">'+r._.styles.join('\n')+'</style>';!M&&(O=CKEDITOR.tools.buildStyleHtml(r.config.contentsCss)+O);var P=L.baseHref?'<base href="'+L.baseHref+'" data-cke-temp="1" />':'';if(M)K=K.replace(/<!DOCTYPE[^>]*>/i,function(Q){r.docType=N=Q;return '';});if(r.dataProcessor)K=r.dataProcessor.toHtml(K,s);if(M){if(!/<body[\s|>]/.test(K))K='<body>'+K;if(!/<html[\s|>]/.test(K))K='<html>'+K+'</html>';if(!/<head[\s|>]/.test(K))K=K.replace(/<html[^>]*>/,'$&<head><title></title></head>');else if(!/<title[\s|>]/.test(K))K=K.replace(/<head[^>]*>/,'$&<title></title>');P&&(K=K.replace(/<head>/,'$&'+P));K=K.replace(/<\/head\s*>/,O+'$&');K=N+K;}else K=L.docType+'<html dir="'+L.contentsLangDirection+'"'+' lang="'+(L.contentsLanguage||r.langCode)+'">'+'<head>'+'<title>'+t+'</title>'+P+O+'</head>'+'<body'+(L.bodyId?' id="'+L.bodyId+'"':'')+(L.bodyClass?' class="'+L.bodyClass+'"':'')+'>'+K+'</html>';if(CKEDITOR.env.gecko)K=K.replace(/<br \/>(?=\s*<\/(:?html|body)>)/,'$&<br type="_moz" />');K+=I;this.onDispose();H(K);},getData:function(){var K=r.config,L=K.fullPage,M=L&&r.docType,N=B.getFrameDocument(),O=L?N.getDocumentElement().getOuterHtml():N.getBody().getHtml();if(CKEDITOR.env.gecko)O=O.replace(/<br>(?=\s*(:?$|<\/body>))/,'');if(r.dataProcessor)O=r.dataProcessor.toDataFormat(O,s);if(K.ignoreEmptyParagraph)O=O.replace(b,function(P,Q){return Q;
});if(M)O=M+'\n'+O;return O;},getSnapshotData:function(){return B.getFrameDocument().getBody().getHtml();},loadSnapshotData:function(K){B.getFrameDocument().getBody().setHtml(K);},onDispose:function(){if(!r.document)return;r.document.getDocumentElement().clearCustomData();r.document.getBody().clearCustomData();r.window.clearCustomData();r.document.clearCustomData();B.clearCustomData();B.remove();},unload:function(K){this.onDispose();r.window=r.document=B=A=D=null;r.fire('contentDomUnload');},focus:function(){var K=r.window;if(C)D=true;else if(CKEDITOR.env.opera&&r.document){var L=r.window.$.frameElement;L.blur(),L.focus();r.document.getBody().focus();r.selectionChange();}else if(!CKEDITOR.env.opera&&K){CKEDITOR.env.air?setTimeout(function(){K.focus();},0):K.focus();r.selectionChange();}}});r.on('insertHtml',e(f),null,null,20);r.on('insertElement',e(h),null,null,20);r.on('insertText',e(g),null,null,20);r.on('selectionChange',q,null,null,1);});var v;r.on('contentDom',function(){var A=r.document.getElementsByTag('title').getItem(0);A.data('cke-title',r.document.$.title);r.document.$.title=t;});if(CKEDITOR.document.$.documentMode>=8){r.addCss('html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}');var w=[];for(var x in CKEDITOR.dtd.$removeEmpty)w.push('html.CSS1Compat '+x+'[contenteditable=false]');r.addCss(w.join(',')+'{ display:inline-block;}');}else if(CKEDITOR.env.gecko)r.addCss('html { height: 100% !important; }');function y(A){CKEDITOR.tools.tryThese(function(){r.document.$.designMode='on';setTimeout(function(){r.document.$.designMode='off';if(CKEDITOR.currentInstance==r)r.document.getBody().focus();},50);},function(){r.document.$.designMode='off';var B=r.document.getBody();B.setAttribute('contentEditable',false);B.setAttribute('contentEditable',true);!A&&y(1);});};if(CKEDITOR.env.gecko||CKEDITOR.env.ie||CKEDITOR.env.opera){var z;r.on('uiReady',function(){z=r.container.append(CKEDITOR.dom.element.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>'));z.on('focus',function(){r.focus();});r.focusGrabber=z;});r.on('destroy',function(){CKEDITOR.tools.removeFunction(u);z.clearCustomData();delete r.focusGrabber;});}r.on('insertElement',function(A){var B=A.data;if(B.type==CKEDITOR.NODE_ELEMENT&&(B.is('input')||B.is('textarea'))){if(!B.isReadOnly())B.data('cke-editable',B.hasAttribute('contenteditable')?'true':'1');B.setAttribute('contentEditable',false);}});}});if(CKEDITOR.env.gecko)(function(){var r=document.body;
if(!r)window.addEventListener('load',arguments.callee,false);else{var s=r.getAttribute('onpageshow');r.setAttribute('onpageshow',(s?s+';':'')+'event.persisted && (function(){'+'var allInstances = CKEDITOR.instances, editor, doc;'+'for ( var i in allInstances )'+'{'+'\teditor = allInstances[ i ];'+'\tdoc = editor.document;'+'\tif ( doc )'+'\t{'+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+'\t}'+'}'+'})();');}})();})();CKEDITOR.config.disableObjectResizing=false;CKEDITOR.config.disableNativeTableHandles=true;CKEDITOR.config.disableNativeSpellChecker=true;CKEDITOR.config.ignoreEmptyParagraph=true;
